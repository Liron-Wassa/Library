(this.webpackJsonplibrary=this.webpackJsonplibrary||[]).push([[0],{18:function(e,t,a){e.exports={icon:"NavBar_icon__AjRub",navBar:"NavBar_navBar__1ar9J"}},26:function(e,t,a){e.exports={List:"BookDetails_List__W0lNE",unList:"BookDetails_unList__MoOvp",image:"BookDetails_image__1TAnM"}},27:function(e,t,a){e.exports={FavoriteList:"Favorite_FavoriteList__SDDOu",List:"Favorite_List__1BRHQ",image:"Favorite_image__3442X",header:"Favorite_header__15Ezl",pagination:"Favorite_pagination__2yi33"}},28:function(e,t,a){e.exports={BookList:"BookList_BookList__17Jao",error:"BookList_error__pfgLJ",pagination:"BookList_pagination__3-dUH"}},31:function(e,t,a){e.exports={Description:"Description_Description__2PdwP",text:"Description_text__29dKw"}},49:function(e,t,a){e.exports={Loading:"Loading_Loading__2R7VM"}},50:function(e,t,a){e.exports={header:"Library_header__XiuvQ"}},51:function(e,t,a){e.exports={header:"History_header__1sxnu"}},56:function(e,t,a){e.exports=a(88)},61:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),i=a.n(o),c=(a(61),a(10)),l=a(45),s=a.n(l),u=Object(n.createContext)();var m=function(e){var t=Object(n.useState)(JSON.parse(localStorage.getItem("favorites"))||[]),a=Object(c.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(!1),m=Object(c.a)(l,2),v=m[0],d=m[1],f=Object(n.useState)([]),E=Object(c.a)(f,2),p=E[0],g=E[1];return r.a.createElement(u.Provider,{value:{books:p,error:"Not found",isLoading:v,favorites:o,findBooks:function(e){d(!0),s.a.get("https://www.googleapis.com/books/v1/volumes?q=search+".concat(e)).then((function(e){200===e.status&&(g(e.data.items),d(!1))})).catch((function(e){console.log(e)}))},addFavorit:function(e){var t=p.findIndex((function(t){return t.id===e})),a=JSON.parse(localStorage.getItem("favorites"))||[];a.push(p[t]),localStorage.setItem("favorites",JSON.stringify(a)),i(a)},removeFavorite:function(e){var t=o.filter((function(t){return t.id!==e}));localStorage.setItem("favorites",JSON.stringify(t)),i(t)}}},e.children)},v=Object(n.createContext)();var d=function(e){var t=Object(n.useState)(2),a=Object(c.a)(t,1)[0],o=Object(n.useState)(1),i=Object(c.a)(o,2),l=i[0],s=i[1],u=Object(n.useState)(1),m=Object(c.a)(u,2),d=m[0],f=m[1],E=l*a,p=E-a,g=d*a,b=g-a;return r.a.createElement(v.Provider,{value:{indexOfFirstFaveBooks:b,indexOfFirstBooks:p,indexOfLastFaveBooks:g,indexOfLastBooks:E,booksPerPage:a,currentFavePage:d,currentPage:l,paginateFaveList:function(e,t){"Prev"===e?d>1&&f(d-1):"Next"===e?d<t&&f(d+1):f(e)},paginate:function(e,t){"Prev"===e?l>1&&s(l-1):"Next"===e?l<t&&s(l+1):s(e)},setFavePagesNumber:function(e){f(e)}}},e.children)},f=a(17),E=a(9),p=a(31),g=a.n(p);var b=function(e){return r.a.createElement("div",{className:g.a.Description},r.a.createElement("p",{className:g.a.text},e.location.description))},h=a(96),k=a(90),_=a(26),O=a.n(_);var N=function(e){for(var t=e.book,a=e.bookId,o=e.setDescription,i=Object(n.useContext)(u),c=i.addFavorit,l=i.removeFavorite,s=i.favorites,m=[],v=0;v<s.length;v++)m[v]=s[v].id;return r.a.createElement(h.a,{className:m.includes(t.id)?O.a.unList:O.a.List},r.a.createElement(h.a.Img,{variant:"top",src:t.volumeInfo.imageLinks?t.volumeInfo.imageLinks.thumbnail:"https://cdn.pixabay.com/photo/2015/07/27/20/16/book-863418__340.jpg",className:O.a.image}),r.a.createElement(h.a.Body,null,r.a.createElement(h.a.Title,null,t.volumeInfo.title),r.a.createElement(h.a.Text,null,t.volumeInfo.subtitle),r.a.createElement(k.a,{variant:"secondary",className:"mr-1",onClick:m.includes(t.id)?function(){return l(t.id)}:function(){return c(a)}},m.includes(t.id)?"Remove":"Add to favorite"),t.volumeInfo.description?r.a.createElement(k.a,{variant:"secondary",onClick:function(){return o(t.volumeInfo.description)}},"Description"):null))},x=a(98);var L=function(e){for(var t,a=e.booksPerPage,o=e.totalBooks,i=e.from,c=Object(n.useContext)(v),l=c.paginate,s=c.paginateFaveList,u=c.currentPage,m=c.currentFavePage,d=c.setFavePagesNumber,f=[],E=1;E<=Math.ceil(o/a);E++)f.push(E);return"BOOK_LIST"===i?t=r.a.createElement(x.a,null,r.a.createElement(x.a.Prev,{onClick:function(){return l("Prev",f.length)}}),f.map((function(e){return u===e?r.a.createElement(x.a.Item,{active:!0,key:e,onClick:function(){return l(e)}},e):r.a.createElement(x.a.Item,{key:e,onClick:function(){return l(e)}},e)})),r.a.createElement(x.a.Next,{onClick:function(){return l("Next",f.length)}})):"FAVORITE_LIST"===i&&(t=r.a.createElement(x.a,null,r.a.createElement(x.a.Prev,{onClick:function(){return s("Prev",f.length)}}),f.map((function(e){return m===e?r.a.createElement(x.a.Item,{active:!0,key:e,onClick:function(){return s(e)}},e):r.a.createElement(x.a.Item,{key:e,onClick:function(){return s(e)}},e)})),r.a.createElement(x.a.Next,{onClick:function(){return s("Next",f.length)}}))),Object(n.useEffect)((function(){var e=Math.ceil(o/a);m>1&&d(e)}),[o]),t},B=a(27),y=a.n(B);var S=function(){var e=Object(n.useState)(""),t=Object(c.a)(e,2),a=t[0],o=t[1],i=Object(n.useContext)(u).favorites,l=Object(n.useContext)(v),s=l.indexOfFirstFaveBooks,m=l.indexOfLastFaveBooks,d=l.booksPerPage,f=i.slice(s,m);if(a.length)return r.a.createElement(E.a,{to:{pathname:"/description",description:a}});var p=f.map((function(e){return r.a.createElement(N,{key:e.id,book:e,setDescription:o})}));return r.a.createElement("div",null,r.a.createElement("h1",{className:y.a.header},"Favorites"),r.a.createElement("div",{className:y.a.pagination},i.length?r.a.createElement(L,{booksPerPage:d,totalBooks:i.length,from:"FAVORITE_LIST"}):null),r.a.createElement("div",{className:y.a.FavoriteList},p))},j=a(91),F=a(97);var P=function(){var e=Object(n.useContext)(u).findBooks,t=Object(n.useRef)(null),a="";return r.a.createElement(j.a,{className:"mb-3 container"},r.a.createElement(j.a.Prepend,null,r.a.createElement(k.a,{variant:"dark",onClick:function(){var n=JSON.parse(localStorage.getItem("history"))||[];isNaN(a)?(e(a),n.push({search:a,date:(new Date).toLocaleDateString()}),localStorage.setItem("history",JSON.stringify(n)),t.current.value="",a=""):alert("Enter a book!!!")}},"Search")),r.a.createElement(F.a,{onChange:function(e){a=e.target.value},placeholder:"Book",ref:t}))},I=a(28),C=a.n(I),D=a(92),w=a(49),J=a.n(w);var T=function(){return r.a.createElement(D.a,{animation:"border",variant:"secondary",className:J.a.Loading})};var R=function(){var e,t,a=Object(n.useState)(""),o=Object(c.a)(a,2),i=o[0],l=o[1],s=Object(n.useContext)(v),m=s.indexOfFirstBooks,d=s.indexOfLastBooks,f=s.booksPerPage,p=Object(n.useContext)(u),g=p.books,b=p.error,h=p.isLoading;return i.length?r.a.createElement(E.a,{to:{pathname:"/description",description:i}}):(g&&(e=g.slice(m,d)),h?r.a.createElement(T,null):(t=e?e.map((function(e){return r.a.createElement(N,{key:e.id,book:e,bookId:e.id,setDescription:l})})):r.a.createElement("h1",{className:C.a.error},b),r.a.createElement("div",null,g&&g.length?r.a.createElement("div",{className:C.a.pagination},r.a.createElement(L,{booksPerPage:f,totalBooks:g.length,from:"BOOK_LIST"})):null,r.a.createElement("div",{className:C.a.BookList},t))))},A=a(50),H=a.n(A);var M=function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:H.a.header},"Library"),r.a.createElement(P,null),r.a.createElement(R,null))},K=a(51),V=a.n(K),W=a(93);var Q=function(){var e=(JSON.parse(localStorage.getItem("history"))||[]).map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.search),r.a.createElement("td",null,e.date))}));return r.a.createElement("div",null,r.a.createElement("h1",{className:V.a.header},"Search History"),r.a.createElement(W.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Search"),r.a.createElement("th",null,"Date"))),r.a.createElement("tbody",null,e)))},X=a(94),q=a(95),z=a(18),U=a.n(z);var $=function(){var e=Object(n.useContext)(u).favorites;return r.a.createElement(X.a,{bg:"dark",variant:"dark",sticky:"top"},r.a.createElement(X.a.Brand,null,"Navbar"),r.a.createElement(q.a,{className:"mr-auto"},r.a.createElement("div",{className:U.a.navBar},r.a.createElement(f.b,{to:"/",className:U.a.navBar},"Home"),r.a.createElement(f.b,{to:"/history",className:U.a.navBar},"History"),r.a.createElement(f.b,{to:"/favorites",className:U.a.navBar},r.a.createElement("span",null,"Favorites"),e.length?r.a.createElement("span",{className:U.a.icon},r.a.createElement("span",{className:"badge badge-danger"},e.length)):null))))};a(87);var G=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(f.a,{basename:"/"},r.a.createElement(E.d,null,r.a.createElement(m,null,r.a.createElement($,null),r.a.createElement(d,null,r.a.createElement(E.b,{exact:!0,path:"/",component:M}),r.a.createElement(E.b,{path:"/favorites",component:S})),r.a.createElement(E.b,{path:"/history",component:Q}),r.a.createElement(E.b,{path:"/description",component:b})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[56,1,2]]]);
//# sourceMappingURL=main.b34758fc.chunk.js.map
{"version":3,"sources":["components/BookDetails/BookDetails.module.css","components/Favorites/Favorite.module.css","components/BookList/BookList.module.css","components/Description/Description.module.css","components/NavBar/NavBar.module.css","components/Loading/Loading.module.css","components/Library/Library.module.css","components/History/History.module.css","contexts/BookListContext.js","contexts/PaginationContext.js","components/Description/Description.js","components/BookDetails/BookDetails.js","components/Pagination/Pagination.js","components/Favorites/Favorites.js","components/SearchBook/SearchBook.js","components/Loading/Loading.js","components/BookList/BookList.js","components/Library/Library.js","components/History/History.js","components/NavBar/NavBar.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","BookListContext","createContext","BookListContextProvider","props","useState","JSON","parse","localStorage","getItem","favorites","setFavorites","description","setDescription","isLoading","setLoad","books","setBooks","Provider","value","error","findBooks","book","axios","get","then","res","status","data","items","catch","err","console","log","addFavorit","id","bookIndex","findIndex","push","setItem","stringify","removeFavorite","newFavorites","filter","favorite","showDescription","children","PaginationContext","PaginationContextProvider","booksPerPage","currentPage","setCurrentPage","indexOfLastBooks","indexOfFirstBooks","paginate","page","pageLength","setPagesNumber","Description","useContext","className","classes","text","BookDetails","bookId","favoritesId","idx","length","Card","includes","unList","List","Img","variant","src","volumeInfo","imageLinks","smallThumbnail","image","Body","Title","title","Text","subtitle","Button","onClick","Paginations","totalBooks","pageNumber","Math","ceil","useEffect","Pagination","Prev","map","number","index","Item","active","key","Next","Favorites","currentBooks","slice","to","favoriteElements","header","pagination","FavoriteList","SearchBook","inputElementRef","useRef","InputGroup","Prepend","histories","isNaN","search","date","Date","toLocaleDateString","current","alert","FormControl","onChange","e","target","placeholder","ref","Loading","Spinner","animation","BookList","booksElemnt","Library","History","historiesElement","history","Table","striped","bordered","hover","NavBar","Navbar","bg","sticky","Brand","href","Nav","Link","notification","icon","App","exact","path","component","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.bbf43ec3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"List\":\"BookDetails_List__W0lNE\",\"unList\":\"BookDetails_unList__MoOvp\",\"image\":\"BookDetails_image__1TAnM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FavoriteList\":\"Favorite_FavoriteList__SDDOu\",\"List\":\"Favorite_List__1BRHQ\",\"image\":\"Favorite_image__3442X\",\"header\":\"Favorite_header__15Ezl\",\"pagination\":\"Favorite_pagination__2yi33\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BookList\":\"BookList_BookList__17Jao\",\"error\":\"BookList_error__pfgLJ\",\"pagination\":\"BookList_pagination__3-dUH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Description\":\"Description_Description__2PdwP\",\"text\":\"Description_text__29dKw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notification\":\"NavBar_notification__3Uhfx\",\"icon\":\"NavBar_icon__AjRub\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loading\":\"Loading_Loading__2R7VM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Library_header__XiuvQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"History_header__1sxnu\"};","import React, { createContext, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport const BookListContext = createContext();\r\n\r\nfunction BookListContextProvider(props) {\r\n\r\n    const [favorites, setFavorites] = useState(JSON.parse(localStorage.getItem(\"favorites\")) || []);\r\n    const [description, setDescription] = useState(\"\");\r\n    const [isLoading, setLoad] = useState(false);\r\n    const [books, setBooks] = useState([]);\r\n    const error = \"Not found\";\r\n\r\n    let findBooks = (book) => {\r\n        setLoad(true);\r\n        axios.get(`https://www.googleapis.com/books/v1/volumes?q=search+${book}`).then(res => {\r\n            if(res.status === 200){\r\n                setBooks(res.data.items);\r\n                setLoad(false);\r\n            }\r\n        }).catch(err => {\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n    let addFavorit = (id) => {\r\n        let bookIndex = books.findIndex(book => {\r\n            return book.id === id;\r\n        });\r\n\r\n        let favorites = JSON.parse(localStorage.getItem(\"favorites\")) || [];             \r\n        if(favorites){\r\n            favorites.push(books[bookIndex]);\r\n            localStorage.setItem(\"favorites\", JSON.stringify(favorites));\r\n        }\r\n        else{\r\n            favorites.push(books[bookIndex]);\r\n            localStorage.setItem(\"favorites\", JSON.stringify(favorites));\r\n        }\r\n        setFavorites(favorites);\r\n    }\r\n\r\n    let removeFavorite = (id) => {        \r\n        let newFavorites = favorites.filter(favorite => {\r\n            return favorite.id !== id;\r\n        });            \r\n        localStorage.setItem(\"favorites\", JSON.stringify(newFavorites));\r\n        setFavorites(newFavorites);\r\n    }\r\n\r\n    let showDescription = (description) => {\r\n        setDescription(description);\r\n    }\r\n\r\n    return <BookListContext.Provider value={{\r\n            books,\r\n            error,\r\n            isLoading,\r\n            favorites,\r\n            description,\r\n            findBooks,\r\n            addFavorit,\r\n            removeFavorite,\r\n            showDescription\r\n        }}>\r\n        {props.children}\r\n    </BookListContext.Provider>\r\n}\r\n\r\nexport default BookListContextProvider;","import React, { useState, createContext } from 'react';\r\n\r\nexport const PaginationContext = createContext();\r\n\r\nfunction PaginationContextProvider(props) {\r\n\r\n    const [booksPerPage] = useState(2);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const indexOfLastBooks = currentPage * booksPerPage;\r\n    const indexOfFirstBooks = indexOfLastBooks - booksPerPage;\r\n    \r\n    let setPagesNumber = () => {\r\n        setCurrentPage(currentPage - 1);\r\n    }\r\n        \r\n    let paginate = (page, pageLength) => {\r\n        if(page === \"Prev\"){\r\n            if(currentPage > 1){\r\n                setCurrentPage(currentPage - 1);\r\n            }\r\n        }\r\n        else if(page === \"Next\"){\r\n            if(currentPage < pageLength){\r\n                setCurrentPage(currentPage + 1);\r\n            }\r\n        }\r\n        else{\r\n            setCurrentPage(page);\r\n        }\r\n    }\r\n\r\n    return <PaginationContext.Provider value={{\r\n            indexOfFirstBooks,\r\n            indexOfLastBooks,\r\n            booksPerPage,\r\n            currentPage,\r\n            paginate,\r\n            setPagesNumber\r\n        }}>\r\n        {props.children}\r\n    </PaginationContext.Provider>\r\n}\r\n\r\nexport default PaginationContextProvider;","import { BookListContext } from '../../contexts/BookListContext';\r\nimport classes from './Description.module.css';\r\nimport React, { useContext } from 'react';\r\n\r\nfunction Description() {\r\n\r\n    const { description } = useContext(BookListContext);\r\n\r\n    return <div className={classes.Description}>\r\n        <p className={classes.text}>\r\n            {description}\r\n        </p>\r\n    </div>\r\n}\r\n\r\nexport default Description;","import { BookListContext } from '../../contexts/BookListContext';\r\nimport { Card, Button } from 'react-bootstrap';\r\nimport classes from './BookDetails.module.css';\r\nimport React, { useContext } from 'react';\r\n\r\nfunction BookDetails({ book, bookId }) {\r\n\r\n    const { addFavorit, showDescription, removeFavorite, favorites } = useContext(BookListContext);\r\n\r\n    let favoritesId = [];\r\n    for (let idx = 0; idx < favorites.length; idx++) {\r\n        favoritesId[idx] = favorites[idx].id;\r\n    }\r\n\r\n    return <Card className={favoritesId.includes(book.id) ? classes.unList : classes.List}>\r\n        <Card.Img\r\n            variant=\"top\"\r\n            src={book.volumeInfo.imageLinks.smallThumbnail}\r\n            className={classes.image}\r\n        />\r\n        <Card.Body>\r\n        <Card.Title>{book.volumeInfo.title}</Card.Title>\r\n        <Card.Text>{book.volumeInfo.subtitle}</Card.Text>\r\n        <Button\r\n            variant=\"secondary\"\r\n            className=\"mr-1\"\r\n            onClick={favoritesId.includes(book.id) ? () => removeFavorite(book.id) : () => addFavorit(bookId)}\r\n        >\r\n            {favoritesId.includes(book.id) ? \"Remove\" : \"Add to favorite\"}\r\n        </Button>\r\n        {book.volumeInfo.description ?\r\n            <Button variant=\"secondary\" onClick={() => showDescription(book.volumeInfo.description)}>\r\n                Description\r\n            </Button>\r\n        : null}\r\n        </Card.Body>\r\n    </Card>\r\n}\r\n\r\nexport default BookDetails;","import { PaginationContext } from '../../contexts/PaginationContext';\r\nimport { Pagination } from 'react-bootstrap';\r\nimport React, { useContext, useEffect } from 'react';\r\n\r\nfunction Paginations({ booksPerPage, totalBooks }) {\r\n\r\n    const { paginate, currentPage, setPagesNumber } = useContext(PaginationContext);\r\n    const pageNumber = [];\r\n    \r\n    for (let idx = 1; idx <= Math.ceil(totalBooks / booksPerPage); idx++) {\r\n        pageNumber.push(idx);\r\n    }\r\n\r\n    useEffect(() => {        \r\n        if(currentPage === 2){\r\n            setPagesNumber();\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [totalBooks]);\r\n\r\n    return <Pagination>\r\n        <Pagination.Prev onClick={() => paginate(\"Prev\", pageNumber.length)} />\r\n        {pageNumber.map((number, index) => {\r\n            return currentPage === number ? \r\n            <Pagination.Item active key={number} onClick={() => paginate(number)}>{number}</Pagination.Item> :\r\n            <Pagination.Item key={number} onClick={() => paginate(number)}>{number}</Pagination.Item>\r\n        })}\r\n        <Pagination.Next onClick={() => paginate(\"Next\", pageNumber.length)} />\r\n    </Pagination>\r\n}\r\n\r\nexport default Paginations;","import { PaginationContext } from '../../contexts/PaginationContext';\r\nimport { BookListContext } from '../../contexts/BookListContext';\r\nimport BookDetails from '../BookDetails/BookDetails';\r\nimport Paginations from '../Pagination/Pagination';\r\nimport classes from './Favorite.module.css';\r\nimport React, { useContext } from 'react';\r\nimport { Redirect } from 'react-router';\r\n\r\nfunction Favorites() {\r\n    \r\n    const { favorites, description } = useContext(BookListContext);\r\n    const { indexOfFirstBooks, indexOfLastBooks, booksPerPage } = useContext(PaginationContext);\r\n    const currentBooks = favorites.slice(indexOfFirstBooks, indexOfLastBooks);\r\n        \r\n    if(description){\r\n        return <Redirect to={`/description`}/>\r\n    }\r\n\r\n    let favoriteElements = currentBooks.map(favorite => {\r\n        return <BookDetails key={favorite.id} book={favorite} />\r\n    });\r\n    \r\n    return <div>\r\n        <h1 className={classes.header}>Favorites</h1>\r\n        <div className={classes.pagination}>\r\n            {favorites.length ? <Paginations booksPerPage={booksPerPage} totalBooks={favorites.length} /> : null}\r\n        </div>\r\n\r\n        <div className={classes.FavoriteList}>\r\n            {favoriteElements}\r\n        </div>\r\n    </div>\r\n    \r\n}\r\n\r\nexport default Favorites;","import React, { useContext, useRef } from 'react';\r\nimport { BookListContext } from '../../contexts/BookListContext';\r\nimport { Button, InputGroup, FormControl } from 'react-bootstrap';\r\n\r\nfunction SearchBook() {\r\n\r\n    const { findBooks } = useContext(BookListContext);\r\n    const inputElementRef = useRef(null);\r\n    let book = \"\";\r\n\r\n    let changeInputHandler = (e) => {\r\n        book = e.target.value;\r\n    }\r\n\r\n    let searchBook = () => {\r\n        let histories = JSON.parse(localStorage.getItem(\"history\")) || [];\r\n        if(isNaN(book)){\r\n            findBooks(book);\r\n            histories.push({search: book, date: new Date().toLocaleDateString()});\r\n            localStorage.setItem(\"history\", JSON.stringify(histories));\r\n            inputElementRef.current.value = \"\";\r\n            book = \"\";\r\n        }\r\n        else{\r\n            alert(\"Enter a book!!!\");\r\n        }\r\n    }\r\n\r\n    return <InputGroup className=\"mb-3 container\">\r\n        <InputGroup.Prepend>\r\n            <Button variant=\"dark\" onClick={searchBook}>Search</Button>\r\n        </InputGroup.Prepend>\r\n        <FormControl\r\n            onChange={changeInputHandler}\r\n            placeholder=\"Book\"\r\n            ref={inputElementRef}\r\n        />\r\n    </InputGroup>\r\n}\r\n\r\nexport default SearchBook;","import React from 'react';\r\nimport { Spinner } from 'react-bootstrap';\r\nimport classes from './Loading.module.css';\r\n\r\nfunction Loading() {\r\n    return <Spinner animation=\"border\" variant=\"secondary\" className={classes.Loading} />\r\n}\r\n\r\nexport default Loading;","import { PaginationContext } from '../../contexts/PaginationContext';\r\nimport { BookListContext } from '../../contexts/BookListContext';\r\nimport BookDetails from '../BookDetails/BookDetails';\r\nimport Paginations from '../Pagination/Pagination';\r\nimport classes from './BookList.module.css';\r\nimport React, { useContext } from 'react';\r\nimport Loading from '../Loading/Loading';\r\nimport { Redirect } from 'react-router';\r\n\r\nfunction BookList() {\r\n\r\n    const { indexOfFirstBooks, indexOfLastBooks, booksPerPage } = useContext(PaginationContext);\r\n    const { books, error, isLoading, description } = useContext(BookListContext);\r\n    const currentBooks = books.slice(indexOfFirstBooks, indexOfLastBooks);\r\n\r\n    let booksElemnt;\r\n\r\n    if(description){\r\n        return <Redirect to={`/description`}/>\r\n    } \r\n\r\n    if(!isLoading){\r\n        if(currentBooks){\r\n            booksElemnt = currentBooks.map((book, index) => {                \r\n                return <BookDetails key={book.id} book={book} bookId={book.id} />\r\n            });\r\n        }\r\n        else{        \r\n            booksElemnt= <h1 className={classes.error}>{error}</h1>;\r\n        }\r\n    }\r\n    else{\r\n        return <Loading />\r\n    }\r\n\r\n    return <div>\r\n        {books.length ? <div className={classes.pagination}>\r\n            <Paginations booksPerPage={booksPerPage} totalBooks={books.length} />\r\n        </div> : null}\r\n        <div className={classes.BookList}>\r\n            {booksElemnt}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default BookList;","import SearchBook from '../../components/SearchBook/SearchBook';\r\nimport BookList from '../../components/BookList/BookList';\r\nimport classes from './Library.module.css';\r\nimport React from 'react';\r\n\r\nfunction Library() {\r\n    return <div>\r\n        <h1 className={classes.header}>Library</h1>\r\n        <SearchBook />\r\n        <BookList />\r\n    </div>\r\n}\r\n\r\nexport default Library;","import classes from './History.module.css';\r\nimport { Table } from 'react-bootstrap';\r\nimport React from 'react';\r\n\r\nfunction History() {\r\n\r\n    let histories = JSON.parse(localStorage.getItem(\"history\")) || [];\r\n\r\n    let historiesElement = histories.map((history, index) => {\r\n        return <tr key={index}>\r\n            <td>{history.search}</td>\r\n            <td>{history.date}</td>\r\n        </tr>\r\n    });\r\n\r\n    return <div>\r\n        <h1 className={classes.header}>Search History</h1>\r\n        <Table striped bordered hover variant=\"dark\">\r\n            <thead>\r\n                <tr>\r\n                    <th>Search</th>\r\n                    <th>Date</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {historiesElement}\r\n            </tbody>\r\n        </Table>\r\n    </div>\r\n}\r\n\r\nexport default History;","import { BookListContext } from '../../contexts/BookListContext';\r\nimport { Navbar, Nav } from 'react-bootstrap';\r\nimport classes from './NavBar.module.css';\r\nimport React, { useContext } from 'react';\r\n\r\nfunction NavBar() {\r\n\r\n    const { favorites } = useContext(BookListContext);\r\n\r\n    return <Navbar bg=\"dark\" variant=\"dark\" sticky=\"top\">\r\n        <Navbar.Brand href=\"/\">Navbar</Navbar.Brand>\r\n        <Nav className=\"mr-auto\">\r\n        <Nav.Link href=\"/\">Home</Nav.Link>\r\n        <Nav.Link href=\"/history\">History</Nav.Link>\r\n        <Nav.Link href=\"/favorites\" className={classes.notification}>\r\n          <span>Favorites</span>\r\n          {favorites.length ?\r\n            <span className={classes.icon}>\r\n              <span className=\"badge badge-danger\">{favorites.length}</span>\r\n            </span>\r\n          : null}\r\n        </Nav.Link>\r\n        </Nav>\r\n  </Navbar>\r\n}\r\n\r\nexport default NavBar;","import BookListContextProvider from './contexts/BookListContext';\nimport PaginationContextProvider from './contexts/PaginationContext';\nimport { HashRouter, Switch, Route } from 'react-router-dom';\nimport Description from './components/Description/Description';\nimport Favorites from './components/Favorites/Favorites';\nimport Library from './components/Library/Library';\nimport History from './components/History/History';\nimport NavBar from './components/NavBar/NavBar';\nimport React from 'react';\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <HashRouter>\n        <Switch>\n          <BookListContextProvider>\n            <NavBar />\n            <PaginationContextProvider>\n              <Route exact path=\"/favorites\" component={Favorites}/>\n              <Route exact path=\"/\" component={Library}/>\n            </PaginationContextProvider>\n            <Route exact path=\"/history\" component={History}/>\n            <Route exact path=\"/description\" component={Description}/>\n          </BookListContextProvider>\n        </Switch>\n      </HashRouter>\n    </div>\n  );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}
(this.webpackJsonplibrary=this.webpackJsonplibrary||[]).push([[0],{24:function(e,t,a){e.exports={List:"BookDetails_List__W0lNE",unList:"BookDetails_unList__MoOvp",image:"BookDetails_image__1TAnM"}},25:function(e,t,a){e.exports={FavoriteList:"Favorite_FavoriteList__SDDOu",List:"Favorite_List__1BRHQ",image:"Favorite_image__3442X",header:"Favorite_header__15Ezl",pagination:"Favorite_pagination__2yi33"}},26:function(e,t,a){e.exports={BookList:"BookList_BookList__17Jao",error:"BookList_error__pfgLJ",pagination:"BookList_pagination__3-dUH"}},29:function(e,t,a){e.exports={Description:"Description_Description__2PdwP",text:"Description_text__29dKw"}},32:function(e,t,a){e.exports={notification:"NavBar_notification__3Uhfx",icon:"NavBar_icon__AjRub"}},48:function(e,t,a){e.exports={Loading:"Loading_Loading__2R7VM"}},49:function(e,t,a){e.exports={header:"Library_header__XiuvQ"}},50:function(e,t,a){e.exports={header:"History_header__1sxnu"}},56:function(e,t,a){e.exports=a(88)},61:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),i=a.n(o),c=(a(61),a(15)),l=a(44),s=a.n(l),u=Object(n.createContext)();var m=function(e){var t=Object(n.useState)(JSON.parse(localStorage.getItem("favorites"))||[]),a=Object(c.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(""),m=Object(c.a)(l,2),d=m[0],v=m[1],f=Object(n.useState)(!1),E=Object(c.a)(f,2),p=E[0],g=E[1],h=Object(n.useState)([]),b=Object(c.a)(h,2),k=b[0],_=b[1];return r.a.createElement(u.Provider,{value:{books:k,error:"Not found",isLoading:p,favorites:o,description:d,findBooks:function(e){g(!0),s.a.get("https://www.googleapis.com/books/v1/volumes?q=search+".concat(e)).then((function(e){200===e.status&&(_(e.data.items),g(!1))})).catch((function(e){console.log(e)}))},addFavorit:function(e){var t=k.findIndex((function(t){return t.id===e})),a=JSON.parse(localStorage.getItem("favorites"))||[];a.push(k[t]),localStorage.setItem("favorites",JSON.stringify(a)),i(a)},removeFavorite:function(e){var t=o.filter((function(t){return t.id!==e}));localStorage.setItem("favorites",JSON.stringify(t)),i(t)},showDescription:function(e){v(e)}}},e.children)},d=Object(n.createContext)();var v=function(e){var t=Object(n.useState)(2),a=Object(c.a)(t,1)[0],o=Object(n.useState)(1),i=Object(c.a)(o,2),l=i[0],s=i[1],u=l*a,m=u-a;return r.a.createElement(d.Provider,{value:{indexOfFirstBooks:m,indexOfLastBooks:u,booksPerPage:a,currentPage:l,paginate:function(e,t){"Prev"===e?l>1&&s(l-1):"Next"===e?l<t&&s(l+1):s(e)},setPagesNumber:function(){s(l-1)}}},e.children)},f=a(55),E=a(9),p=a(29),g=a.n(p);var h=function(){var e=Object(n.useContext)(u).description;return r.a.createElement("div",{className:g.a.Description},r.a.createElement("p",{className:g.a.text},e))},b=a(96),k=a(90),_=a(24),x=a.n(_);var O=function(e){for(var t=e.book,a=e.bookId,o=Object(n.useContext)(u),i=o.addFavorit,c=o.showDescription,l=o.removeFavorite,s=o.favorites,m=[],d=0;d<s.length;d++)m[d]=s[d].id;return r.a.createElement(b.a,{className:m.includes(t.id)?x.a.unList:x.a.List},r.a.createElement(b.a.Img,{variant:"top",src:t.volumeInfo.imageLinks.smallThumbnail,className:x.a.image}),r.a.createElement(b.a.Body,null,r.a.createElement(b.a.Title,null,t.volumeInfo.title),r.a.createElement(b.a.Text,null,t.volumeInfo.subtitle),r.a.createElement(k.a,{variant:"secondary",className:"mr-1",onClick:m.includes(t.id)?function(){return l(t.id)}:function(){return i(a)}},m.includes(t.id)?"Remove":"Add to favorite"),t.volumeInfo.description?r.a.createElement(k.a,{variant:"secondary",onClick:function(){return c(t.volumeInfo.description)}},"Description"):null))},N=a(98);var L=function(e){for(var t=e.booksPerPage,a=e.totalBooks,o=Object(n.useContext)(d),i=o.paginate,c=o.currentPage,l=o.setPagesNumber,s=[],u=1;u<=Math.ceil(a/t);u++)s.push(u);return Object(n.useEffect)((function(){2===c&&l()}),[a]),r.a.createElement(N.a,null,r.a.createElement(N.a.Prev,{onClick:function(){return i("Prev",s.length)}}),s.map((function(e,t){return c===e?r.a.createElement(N.a.Item,{active:!0,key:e,onClick:function(){return i(e)}},e):r.a.createElement(N.a.Item,{key:e,onClick:function(){return i(e)}},e)})),r.a.createElement(N.a.Next,{onClick:function(){return i("Next",s.length)}}))},y=a(25),B=a.n(y);var j=function(){var e=Object(n.useContext)(u),t=e.favorites,a=e.description,o=Object(n.useContext)(d),i=o.indexOfFirstBooks,c=o.indexOfLastBooks,l=o.booksPerPage,s=t.slice(i,c);if(a)return r.a.createElement(E.a,{to:"/description"});var m=s.map((function(e){return r.a.createElement(O,{key:e.id,book:e})}));return r.a.createElement("div",null,r.a.createElement("h1",{className:B.a.header},"Favorites"),r.a.createElement("div",{className:B.a.pagination},t.length?r.a.createElement(L,{booksPerPage:l,totalBooks:t.length}):null),r.a.createElement("div",{className:B.a.FavoriteList},m))},S=a(91),P=a(97);var C=function(){var e=Object(n.useContext)(u).findBooks,t=Object(n.useRef)(null),a="";return r.a.createElement(S.a,{className:"mb-3 container"},r.a.createElement(S.a.Prepend,null,r.a.createElement(k.a,{variant:"dark",onClick:function(){var n=JSON.parse(localStorage.getItem("history"))||[];isNaN(a)?(e(a),n.push({search:a,date:(new Date).toLocaleDateString()}),localStorage.setItem("history",JSON.stringify(n)),t.current.value="",a=""):alert("Enter a book!!!")}},"Search")),r.a.createElement(P.a,{onChange:function(e){a=e.target.value},placeholder:"Book",ref:t}))},I=a(26),F=a.n(I),w=a(92),D=a(48),J=a.n(D);var H=function(){return r.a.createElement(w.a,{animation:"border",variant:"secondary",className:J.a.Loading})};var R=function(){var e,t=Object(n.useContext)(d),a=t.indexOfFirstBooks,o=t.indexOfLastBooks,i=t.booksPerPage,c=Object(n.useContext)(u),l=c.books,s=c.error,m=c.isLoading,v=c.description,f=l.slice(a,o);return v?r.a.createElement(E.a,{to:"/description"}):m?r.a.createElement(H,null):(e=f?f.map((function(e,t){return r.a.createElement(O,{key:e.id,book:e,bookId:e.id})})):r.a.createElement("h1",{className:F.a.error},s),r.a.createElement("div",null,l.length?r.a.createElement("div",{className:F.a.pagination},r.a.createElement(L,{booksPerPage:i,totalBooks:l.length})):null,r.a.createElement("div",{className:F.a.BookList},e)))},A=a(49),M=a.n(A);var T=function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:M.a.header},"Library"),r.a.createElement(C,null),r.a.createElement(R,null))},W=a(50),Q=a.n(W),U=a(93);var X=function(){var e=(JSON.parse(localStorage.getItem("history"))||[]).map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.search),r.a.createElement("td",null,e.date))}));return r.a.createElement("div",null,r.a.createElement("h1",{className:Q.a.header},"Search History"),r.a.createElement(U.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Search"),r.a.createElement("th",null,"Date"))),r.a.createElement("tbody",null,e)))},q=a(94),z=a(95),K=a(32),V=a.n(K);var $=function(){var e=Object(n.useContext)(u).favorites;return r.a.createElement(q.a,{bg:"dark",variant:"dark",sticky:"top"},r.a.createElement(q.a.Brand,{href:"/"},"Navbar"),r.a.createElement(z.a,{className:"mr-auto"},r.a.createElement(z.a.Link,{href:"/"},"Home"),r.a.createElement(z.a.Link,{href:"/history"},"History"),r.a.createElement(z.a.Link,{href:"/favorites",className:V.a.notification},r.a.createElement("span",null,"Favorites"),e.length?r.a.createElement("span",{className:V.a.icon},r.a.createElement("span",{className:"badge badge-danger"},e.length)):null)))};a(87);var G=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(f.a,null,r.a.createElement(E.d,null,r.a.createElement(m,null,r.a.createElement($,null),r.a.createElement(v,null,r.a.createElement(E.b,{exact:!0,path:"/favorites",component:j}),r.a.createElement(E.b,{exact:!0,path:"/",component:T})),r.a.createElement(E.b,{exact:!0,path:"/history",component:X}),r.a.createElement(E.b,{exact:!0,path:"/description",component:h})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[56,1,2]]]);
//# sourceMappingURL=main.bbf43ec3.chunk.js.map